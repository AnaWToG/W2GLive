import TypedEmitter from 'typed-emitter';
import { LocalParticipant, Participant, RemoteParticipant } from './participant.js';
import { ConnectionQuality, ConnectionState, ContinualGatheringPolicy, DataPacketKind, IceServer, IceTransportType } from './proto/room_pb.js';
import { E2EEManager, E2EEOptions } from './e2ee.js';
import { LocalTrackPublication, RemoteTrackPublication, TrackPublication } from './track_publication.js';
import { LocalTrack, RemoteTrack } from './track.js';
import { EncryptionState } from './proto/e2ee_pb.js';
export interface RtcConfiguration {
    iceTransportType: IceTransportType;
    continualGatheringPolicy: ContinualGatheringPolicy;
    iceServers: IceServer[];
}
export declare const defaultRtcConfiguration: RtcConfiguration;
export interface RoomOptions {
    autoSubscribe: boolean;
    dynacast: boolean;
    e2ee?: E2EEOptions;
    rtcConfig?: RtcConfiguration;
}
export declare const defaultRoomOptions: RoomOptions;
declare const Room_base: new () => TypedEmitter<RoomCallbacks>;
export declare class Room extends Room_base {
    private info;
    private ffiHandle?;
    e2eeManager: E2EEManager;
    connectionState: ConnectionState;
    remoteParticipants: Map<string, RemoteParticipant>;
    localParticipant?: LocalParticipant;
    constructor();
    get name(): string;
    get metadata(): string;
    get isConnected(): boolean;
    getSid(): Promise<string>;
    connect(url: string, token: string, opts?: RoomOptions): Promise<void>;
    disconnect(): Promise<void>;
    private onFfiEvent;
    getRemoteParticipantBySid(sid: string): RemoteParticipant;
    private retrieveParticipant;
    private createRemoteParticipant;
}
export declare class ConnectError extends Error {
    constructor(message: string);
}
export type RoomCallbacks = {
    participantConnected: (participant: RemoteParticipant) => void;
    participantDisconnected: (participant: RemoteParticipant) => void;
    localTrackPublished: (publication: LocalTrackPublication, track: LocalTrack) => void;
    localTrackUnpublished: (publication: LocalTrackPublication) => void;
    trackPublished: (publication: RemoteTrackPublication, participant: RemoteParticipant) => void;
    trackUnpublished: (publication: RemoteTrackPublication, participant: RemoteParticipant) => void;
    trackSubscribed: (track: RemoteTrack, publication: RemoteTrackPublication, participant: RemoteParticipant) => void;
    trackUnsubscribed: (track: RemoteTrack, publication: RemoteTrackPublication, participant: RemoteParticipant) => void;
    trackSubscriptionFailed: (participant: RemoteParticipant, publicationSid: string, error: string) => void;
    trackMuted: (participant: Participant, publication: TrackPublication) => void;
    trackUnmuted: (participant: Participant, publication: TrackPublication) => void;
    activeSpeakersChanged: (speakers: RemoteParticipant[]) => void;
    roomMetadataChanged: (oldMetadata: string, metadata: string) => void;
    participantMetadataChanged: (participant: Participant, oldMetadata: string, metadata: string) => void;
    participantNameChanged: (participant: Participant, oldName: string, name: string) => void;
    connectionQualityChanged: (participant: Participant, quality: ConnectionQuality) => void;
    dataReceived: (data: Uint8Array, kind: DataPacketKind, participant?: RemoteParticipant) => void;
    e2eeStateChanged: (participant: Participant, state: EncryptionState) => void;
    connectionStateChanged: (state: ConnectionState) => void;
    connected: () => void;
    disconnected: () => void;
    reconnecting: () => void;
    reconnected: () => void;
};
export declare enum RoomEvent {
    ParticipantConnected = "participantConnected",
    ParticipantDisconnected = "participantDisconnected",
    LocalTrackPublished = "localTrackPublished",
    LocalTrackUnpublished = "localTrackUnpublished",
    TrackPublished = "trackPublished",
    TrackUnpublished = "trackUnpublished",
    TrackSubscribed = "trackSubscribed",
    TrackUnsubscribed = "trackUnsubscribed",
    TrackSubscriptionFailed = "trackSubscriptionFailed",
    TrackMuted = "trackMuted",
    TrackUnmuted = "trackUnmuted",
    ActiveSpeakersChanged = "activeSpeakersChanged",
    RoomMetadataChanged = "roomMetadataChanged",
    ParticipantMetadataChanged = "participantMetadataChanged",
    ParticipantNameChanged = "participantNameChanged",
    ConnectionQualityChanged = "connectionQualityChanged",
    DataReceived = "dataReceived",
    E2EEStateChanged = "e2eeStateChanged",
    ConenctionStateChanged = "connectionStateChanged",
    Connected = "connected",
    Disconnected = "disconnected",
    Reconnecting = "reconnecting",
    Reconnected = "reconnected"
}
export {};
//# sourceMappingURL=room.d.ts.map